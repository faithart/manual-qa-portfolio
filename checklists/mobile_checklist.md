# Mobile — функциональное тестирование

## Окружение
- Ссылка на стенд: https://example.com
- Эмулятор Android Studio: Honor 8, ОС Android 9.0 Pie 
- Разрешение экрана 1080×1920, диагональ 5.5
- Дата проверки: 2025-10-17

- [x] После построения маршрута при нажатии кнопки со стрелками между полями «Откуда» и «Куда» станции меняются местами, маршрут перестраивается в обратном направлении.
- [ ] После успешного построения маршрут сохраняется в истории и отображается первым в списке при повторном открытии истории, а станция, которая была первой в списке становится последней.  
  ⤷ Failed: [B-7](../bug-reports/bug_reports.md#b-7)
- [x] При открытии окна истории маршрутов, если история очищена, отображается пустой список.
- [x] При попытке построить маршрут, если одно из полей («Откуда») пустое, маршрут не строится, появляется маркер A на введенной станции.
- [ ] При включённой опции «Выбор станции касанием» и тапе по станции «Пушкинская» открывается карточка станции с кнопками «Отсюда» и «Сюда».  
  ⤷ Failed: [B-8](../bug-reports/bug_reports.md#b-8)
- [ ] При нажатии кнопки «Отсюда» на станции «Пушкинская» и кнопки «Сюда» на станции «Кузнецкий мост» маршрут строится автоматически, на карте отображается путь, открывается окно «Информация о маршруте».  
  ⤷ Blocked: [B-8](../bug-reports/bug_reports.md#b-8)
- [ ] При повторном тапе по станции, которая уже использовалась в маршруте, карточка открывается сразу (без повторного выделения станции на карте).  
  ⤷ Blocked: [B-8](../bug-reports/bug_reports.md#b-8)
- [ ] При тапе по станции на карте при выключенной опции «Выбор станции касанием» карточка станции не открывается, маршрут не строится.  
  ⤷ Failed: [B-9](../bug-reports/bug_reports.md#b-9)
- [x] При тапе в пустую область карты при открытой карточке станции карточка закрывается, маршрут не изменяется.
- [x] При нажатии на поле «Откуда» или «Куда» открывается окно истории маршрутов.
- [x] При выборе маршрута «Пушкинская → Кузнецкий мост» из истории маршрут автоматически строится, на карте отображается путь, открывается окно «Информация о маршруте».
- [x] После выбора маршрута из истории окно истории закрывается, а экран с маршрутом становится активным.
- [x] После очистки истории маршрутов при повторном открытии окна история пуста.
- [x] После обновления приложения ранее сохранённая история маршрутов остаётся доступной.
- [x] После удаления маршрута из истории и поворота экрана история не “восстанавливает” удалённый элемент.
- [x] При нажатии на кнопку «Закрыть» в окне «Информация о маршруте» построенный маршрут сбрасывается; в поле «Откуда» сохраняется начальная станция из последнего маршрута. Поле «Куда» и маршрут на схеме сбрасываются, выделение станций пропадает (кроме начальной станции).
- [x] При попытке изменить поля «Откуда» и «Куда» во время перестроения маршрута: замене станции «Кузнецкий мост» на «Улица 1905 года», маршрут обновляется корректно.
- [x] После построения маршрута отображается временной интервал (например, 10:45 – 11:00), и текущее время устройства меньше времени окончания маршрута — интервал отображается корректно, не обновляется.
- [ ] После того как системное время устройства превышает время окончания маршрута (например, становится 11:01), приложение автоматически обновляет временной интервал, значение изменяется (например, 11:01 – 11:16).  
  ⤷ Failed: [B-10](../bug-reports/bug_reports.md#b-10)
- [ ] При возвращении из фонового режима (приложение свернуто, прошло время окончания маршрута) при повторном открытии экран «Информация о маршруте» отображает обновлённый временной интервал.  
  ⤷ Failed: [B4](../bug-reports/B4.md)
- [ ] При отключённой синхронизации времени на устройстве и вручную изменённом системном времени (перевод назад или вперёд) приложение не зависает и корректно пересчитывает или удерживает актуальный интервал без ошибок отображения.  
  ⤷ Blocked: [B3](../bug-reports/B3.md)
